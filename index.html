<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ASIN Analyzer - Layout4</title>
    <link rel="stylesheet" href="./styles.css" />
</head>
<body class="fourth-layout">
    <header class="app-header">
        <div class="header-left">
            <h1 id="pageTitle">ASIN Analyzer</h1>
            <div class="sub" id="pageSub">カートと分析結果をひとまとめに表示</div>
        </div>
        <nav class="layout-nav">
            <a class="layout-link" href="./index.html">Layout 1</a>
            <a class="layout-link" href="./alt.html">Layout 2</a>
            <a class="layout-link" href="./layout3.html">Layout 3</a>
            <a class="layout-link active" href="./index.html?layout=4">Layout 4</a>
        </nav>
        <div class="header-status" id="headerStatus">Ready</div>
    </header>

    <main class="page-body">
        <section class="card metrics-bar" id="metricsBar">
            <div class="metrics-bar-head">
                <div>
                    <div class="metrics-bar-title">並び替え・抽出 指標バー</div>
                    <div class="metrics-bar-help">指標をドラッグして並び順を調整できます</div>
                </div>
                <button class="ghost-btn" id="toggleMetrics">折りたたむ</button>
            </div>

            <div id="sortBar">
                <div class="sort-title">並び替え</div>
                <div class="sort-controls">
                    <div class="sort-row">
                        <select id="sortKey">
                            <option value="">（未選択）</option>
                        </select>
                        <select id="sortDir">
                            <option value="desc">降順</option>
                            <option value="asc">昇順</option>
                        </select>
                        <button id="sortApply">適用</button>
                        <button id="sortReset">リセット</button>
                    </div>
                </div>

                <div class="sort-title">フィルタ（下限／上限）</div>
                <div class="sort-controls">
                    <div class="sort-row">
                        <select id="filterKey">
                            <option value="">（未選択）</option>
                        </select>
                        <input id="filterMin" type="number" placeholder="min" style="height:34px;border:1px solid var(--line);border-radius:12px;padding:0 10px;font-weight:900;font-size:12px;max-width:120px;">
                        <input id="filterMax" type="number" placeholder="max" style="height:34px;border:1px solid var(--line);border-radius:12px;padding:0 10px;font-weight:900;font-size:12px;max-width:120px;">
                        <button id="filterApply">適用</button>
                        <button id="filterReset">リセット</button>
                    </div>
                </div>

                <div class="sort-actions">
                    <button id="addRandomAsin">ASIN追加（ランダム）</button>
                    <button id="clearAll" class="primary">全削除</button>
                </div>
            </div>

            <div class="metrics-row" id="metricsRow">
                <!-- ここに metrics zones がJSで挿入される -->
            </div>
        </section>

        <section class="card asin-catalog" id="asinCatalog">
            <div class="asin-catalog-head">
                <div class="asin-catalog-title">ASIN一覧</div>
                <div class="cart-note">クリックでカードに追加</div>
            </div>
            <div class="asin-catalog-body" id="asinPills"></div>
        </section>

        <section class="card cart-summary" id="cartSummary">
            <div class="cart-head">
                <div>
                    <div class="card-title">カート集計</div>
                    <div class="cart-note">表示中のカードの合計値</div>
                </div>
                <button class="ghost-btn" id="recalcCart">再計算</button>
            </div>

            <div class="cart-grid" id="cartGrid">
                <!-- JSで埋める -->
            </div>
        </section>

        <section class="items-stack" id="itemsStack">
            <!-- JSでレイアウト4のカードを生成 -->
        </section>
    </main>

    <script src="./asin-data.js"></script>
    <script src="./main.js"></script>
</body>
</html>
